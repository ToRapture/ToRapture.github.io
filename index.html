<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/uploads/favicon32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/uploads/favicon16.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"torapture.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Some notes">
<meta property="og:type" content="website">
<meta property="og:title" content="ToRapture&#39;s Blog">
<meta property="og:url" content="https://torapture.github.io/index.html">
<meta property="og:site_name" content="ToRapture&#39;s Blog">
<meta property="og:description" content="Some notes">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="ToRapture">
<meta property="article:tag" content="ToRapture, Linux">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://torapture.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>ToRapture's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ToRapture's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">A Programmer</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://torapture.github.io/2022/03/07/%E8%89%BE%E5%B0%94%E7%99%BB%E6%B3%95%E7%8E%AF%E6%B3%95%E5%B8%88%E6%B5%81%E7%A8%8B%E5%A4%87%E5%BF%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="ToRapture">
      <meta itemprop="description" content="Some notes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ToRapture's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/07/%E8%89%BE%E5%B0%94%E7%99%BB%E6%B3%95%E7%8E%AF%E6%B3%95%E5%B8%88%E6%B5%81%E7%A8%8B%E5%A4%87%E5%BF%98/" class="post-title-link" itemprop="url">艾尔登法环法师流程备忘</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-07 20:26:34 20:26:34" itemprop="dateCreated datePublished" datetime="2022-03-07T20:26:34+08:00">2022-03-07 20:26:34</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-03-07 21:25:36 21:25:36" itemprop="dateModified" datetime="2022-03-07T21:25:36+08:00">2022-03-07 21:25:36</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/03/07/%E8%89%BE%E5%B0%94%E7%99%BB%E6%B3%95%E7%8E%AF%E6%B3%95%E5%B8%88%E6%B5%81%E7%A8%8B%E5%A4%87%E5%BF%98/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/03/07/艾尔登法环法师流程备忘/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="护符">护符</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Arsenal+Charm">哈维尔戒指</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Graven-School+Talisman">稚嫩龙徽戒指</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Graven-Mass+Talisman">狂吼龙徽戒指</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Green+Turtle+Talisman">绿花戒指</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Red-Feathered+Branchsword">红泪戒指</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Blue-Feathered+Branchsword">蓝泪戒指</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Radagon+Icon">老者戒指</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Godfrey+Icon">葛孚雷的肖像：加强蓄力攻击</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Pearldrake+Talisman">Pearldrake Talisman：非物理减伤</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Spelldrake+Talisman">Spelldrake Talisman：魔法减伤</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Stargazer+Heirloom">Stargazer Heirloom：加智力</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Dragoncrest+Shield+Talisman">Dragoncrest Shield Talisman：物理减伤</a></li>
</ul>
<h1 id="护符袋">护符袋</h1>
<ol type="1">
<li>击败「恶兆妖鬼」马尔基特掉落。</li>
<li>在击败两个符文持有者（前期的葛瑞克和满月女王）之后前往大赐福的圆桌厅堂右侧走道的老婆婆交谈获得。</li>
<li>击败「初始之王」葛孚雷掉落。</li>
</ol>
<h1 id="法杖">法杖</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Azur&#39;s+Glintstone+Staff">Azur's Glintstone Staff</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Lusat&#39;s+Glintstone+Staff">Lusat's Glintstone Staff</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Meteorite+Staff">Meteorite Staff</a></li>
</ul>
<h1 id="防具">防具</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Snow+Witch+Set">Snow Witch Set</a></li>
</ul>
<h1 id="灵药圣杯瓶">灵药圣杯瓶</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Flask+of+Wondrous+Physick">Flask of Wondrous Physick</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Cerulean+Hidden+Tear">Cerulean Hidden Tear：无FP消耗</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Crimson+Crystal+Tear">Crimson Crystal Tear：+50%HP</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Cerulean+Crystal+Tear">Cerulean Crystal Tear：+50%FP</a></li>
<li><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Intelligence-knot+Crystal+Tear">Intelligence-knot Crystal Tear：加智力</a></li>
</ul>
<h1 id="杂项">杂项</h1>
<ul>
<li>匕首</li>
<li>腰灯</li>
<li>火把</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://torapture.github.io/2022/03/04/%E8%89%BE%E5%B0%94%E7%99%BB%E6%B3%95%E7%8E%AF%E8%BF%91%E6%88%98%E5%A4%87%E5%BF%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="ToRapture">
      <meta itemprop="description" content="Some notes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ToRapture's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/04/%E8%89%BE%E5%B0%94%E7%99%BB%E6%B3%95%E7%8E%AF%E8%BF%91%E6%88%98%E5%A4%87%E5%BF%98/" class="post-title-link" itemprop="url">艾尔登法环近战备忘</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-04 22:06:10 22:06:10" itemprop="dateCreated datePublished" datetime="2022-03-04T22:06:10+08:00">2022-03-04 22:06:10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-03-07 20:38:20 20:38:20" itemprop="dateModified" datetime="2022-03-07T20:38:20+08:00">2022-03-07 20:38:20</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/03/04/%E8%89%BE%E5%B0%94%E7%99%BB%E6%B3%95%E7%8E%AF%E8%BF%91%E6%88%98%E5%A4%87%E5%BF%98/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/03/04/艾尔登法环近战备忘/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="武器">武器</h1>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Grafted+Blade+Greatsword">Grafted Blade Greatsword</a></p>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Greatsword">Greatsword</a></p>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Lordsworn&#39;s+Greatsword">Lordsworn's Greatsword</a></p>
<h1 id="盾">盾</h1>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Great+Turtle+Shell">Great Turtle Shell</a></p>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Buckler">Buckler</a></p>
<h1 id="强化素材">强化素材</h1>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Upgrade+Materials">Upgrade Materials</a></p>
<h1 id="黄金种子">黄金种子</h1>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1tF411t7Pj?p=3">【艾尔登法环Elden Ring】所有黄金种子位置全收集</a></p>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Golden+Seed">Golden Seed</a></p>
<h1 id="圣杯滴露">圣杯滴露</h1>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Kb4y1x7wz?p=5">【艾尔登法环】圣杯滴露全收集位置(12个圣杯已完结)</a></p>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Sacred+Tear">Sacred Tear</a></p>
<h1 id="灵药圣杯瓶">灵药圣杯瓶</h1>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Flask+of+Wondrous+Physick">Flask of Wondrous Physick</a></p>
<h1 id="战灰">战灰</h1>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Ash+of+War:+Endure">忍耐</a></p>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Ash+of+War:+Parry">弹反</a></p>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Ash+of+War:+No+Skill">无战技</a></p>
<h1 id="砥石刀">砥石刀</h1>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Iron+Whetblade">Iron Whetblade</a></p>
<h1 id="帕奇">帕奇</h1>
<p><a target="_blank" rel="noopener" href="https://eldenring.wiki.fextralife.com/Patches">Patches</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://torapture.github.io/2022/02/22/WebSocket-Learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="ToRapture">
      <meta itemprop="description" content="Some notes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ToRapture's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/22/WebSocket-Learning/" class="post-title-link" itemprop="url">WebSocket Learning</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-22 16:38:50 16:38:50" itemprop="dateCreated datePublished" datetime="2022-02-22T16:38:50+08:00">2022-02-22 16:38:50</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-22 16:44:00 16:44:00" itemprop="dateModified" datetime="2022-02-22T16:44:00+08:00">2022-02-22 16:44:00</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/02/22/WebSocket-Learning/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/02/22/WebSocket-Learning/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Use <a target="_blank" rel="noopener" href="https://github.com/TooTallNate/Java-WebSocket">Java-WebSocket</a> to implement a simple chat server.</p>
<p>Java codes: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.java_websocket.WebSocket;</span><br><span class="line"><span class="keyword">import</span> org.java_websocket.handshake.ClientHandshake;</span><br><span class="line"><span class="keyword">import</span> org.java_websocket.server.WebSocketServer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.InetSocketAddress;</span><br><span class="line"><span class="keyword">import</span> java.nio.ByteBuffer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A simple WebSocketServer implementation. Keeps track of a &quot;chatroom&quot;.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ChatServer</span> <span class="keyword">extends</span> <span class="title">WebSocketServer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ChatServer</span><span class="params">(<span class="keyword">int</span> port)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(<span class="keyword">new</span> InetSocketAddress(port));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onOpen</span><span class="params">(WebSocket conn, ClientHandshake handshake)</span> </span>&#123;</span><br><span class="line">        conn.send(<span class="string">&quot;Welcome to the server!&quot;</span>); <span class="comment">// This method sends a message to the new client</span></span><br><span class="line">        broadcast(<span class="string">&quot;new connection: &quot;</span> + handshake.getResourceDescriptor()); <span class="comment">// This method sends a message to all clients connected</span></span><br><span class="line">        System.out.println(conn.getRemoteSocketAddress().getAddress().getHostAddress() + <span class="string">&quot; entered the room!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClose</span><span class="params">(WebSocket conn, <span class="keyword">int</span> code, String reason, <span class="keyword">boolean</span> remote)</span> </span>&#123;</span><br><span class="line">        broadcast(conn + <span class="string">&quot; has left the room!&quot;</span>);</span><br><span class="line">        System.out.println(conn + <span class="string">&quot; has left the room!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onMessage</span><span class="params">(WebSocket conn, String message)</span> </span>&#123;</span><br><span class="line">        broadcast(message);</span><br><span class="line">        System.out.println(conn + <span class="string">&quot;: &quot;</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(WebSocket conn, Exception ex)</span> </span>&#123;</span><br><span class="line">        ex.printStackTrace();</span><br><span class="line">        <span class="keyword">if</span> (conn != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// some errors like port binding failed may not be assignable to a specific websocket</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onMessage</span><span class="params">(WebSocket conn, ByteBuffer message)</span> </span>&#123;</span><br><span class="line">        broadcast(message.array());</span><br><span class="line">        System.out.println(conn + <span class="string">&quot;: &quot;</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException, IOException </span>&#123;</span><br><span class="line">        ChatServer s = <span class="keyword">new</span> ChatServer(<span class="number">8887</span>);</span><br><span class="line">        s.start();</span><br><span class="line"></span><br><span class="line">        BufferedReader sysin = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            String in = sysin.readLine();</span><br><span class="line">            s.broadcast(in);</span><br><span class="line">            <span class="keyword">if</span> (in.equals(<span class="string">&quot;exit&quot;</span>)) &#123;</span><br><span class="line">                s.stop(<span class="number">1000</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Server started!&quot;</span>);</span><br><span class="line">        setConnectionLostTimeout(<span class="number">0</span>);</span><br><span class="line">        setConnectionLostTimeout(<span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>JavaScript codes: <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ws = <span class="keyword">new</span> WebSocket(<span class="string">&quot;ws://localhost:8887&quot;</span>);</span><br><span class="line"></span><br><span class="line">ws.onopen = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    ws.send(<span class="string">&#x27;hello from client&#x27;</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ws.onmessage = <span class="function"><span class="keyword">function</span> (<span class="params">evt</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> msg = evt.data</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`received msg is <span class="subst">$&#123;msg&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ws.onclose = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;closed&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure> Run the code above in browser's snippets window.</p>
<p>Then run the code below in the console window.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ws.send(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">ws.send(<span class="string">&#x27;world&#x27;</span>)</span><br><span class="line">ws.send(<span class="string">&#x27;8623&#x27;</span>)</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://torapture.github.io/2022/02/20/Regex-Practice-in-Java/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="ToRapture">
      <meta itemprop="description" content="Some notes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ToRapture's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/20/Regex-Practice-in-Java/" class="post-title-link" itemprop="url">Regex Practice in Java</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-02-20 13:17:15 13:17:15" itemprop="dateCreated datePublished" datetime="2022-02-20T13:17:15+08:00">2022-02-20 13:17:15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-20 13:18:16 13:18:16" itemprop="dateModified" datetime="2022-02-20T13:18:16+08:00">2022-02-20 13:18:16</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2022/02/20/Regex-Practice-in-Java/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2022/02/20/Regex-Practice-in-Java/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertArrayEquals;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertEquals;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertFalse;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertTrue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getGroups</span><span class="params">(Matcher m, <span class="keyword">int</span> groups)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">while</span> (m.find()) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= groups; i++) &#123;</span><br><span class="line">                result.add(m.group(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testMain</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Returns only true if the WHOLE string can be matched.</span></span><br><span class="line">        assertTrue(<span class="string">&quot;&quot;</span>.matches(<span class="string">&quot;&quot;</span>));</span><br><span class="line">        assertTrue(<span class="string">&quot;&quot;</span>.matches(<span class="string">&quot;^$&quot;</span>));</span><br><span class="line"></span><br><span class="line">        assertTrue(<span class="string">&quot;abc&quot;</span>.matches(<span class="string">&quot;abc&quot;</span>));</span><br><span class="line">        assertTrue(<span class="string">&quot;abc&quot;</span>.matches(<span class="string">&quot;^abc$&quot;</span>));</span><br><span class="line"></span><br><span class="line">        assertTrue(<span class="string">&quot;abc&quot;</span>.matches(<span class="string">&quot;\\babc&quot;</span>));</span><br><span class="line">        assertTrue(<span class="string">&quot;abc&quot;</span>.matches(<span class="string">&quot;^\\babc$&quot;</span>));</span><br><span class="line">        assertFalse(<span class="string">&quot;abc&quot;</span>.matches(<span class="string">&quot;^a\\bbc$&quot;</span>));</span><br><span class="line"></span><br><span class="line">        assertTrue(<span class="string">&quot;abc-112=112-abc&quot;</span>.matches(<span class="string">&quot;^(\\w+)-(\\d+)=\\2-\\1$&quot;</span>));</span><br><span class="line"></span><br><span class="line">        assertTrue(<span class="string">&quot;He2LlO&quot;</span>.matches(<span class="string">&quot;(?i)he\\dllo&quot;</span>));</span><br><span class="line">        assertFalse(<span class="string">&quot;He2LlO&quot;</span>.matches(<span class="string">&quot;he\\dllo&quot;</span>));</span><br><span class="line"></span><br><span class="line">        assertTrue(<span class="string">&quot;abcabcabc&quot;</span>.matches(<span class="string">&quot;^(abc)+$&quot;</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;2211-abc+=1145-bba&quot;</span>, <span class="string">&quot;abc2211+=bba1145&quot;</span>.replaceAll(<span class="string">&quot;([a-z]+)(\\d+)&quot;</span>, <span class="string">&quot;$2-$1&quot;</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;2211-abc+=bba1145&quot;</span>, <span class="string">&quot;abc2211+=bba1145&quot;</span>.replaceFirst(<span class="string">&quot;([a-z]+)(\\d+)&quot;</span>, <span class="string">&quot;$2-$1&quot;</span>));</span><br><span class="line">        assertEquals(<span class="string">&quot;abc2211-=bba1145&quot;</span>, <span class="string">&quot;abc2211+=bba1145&quot;</span>.replace(<span class="string">&quot;+=&quot;</span>, <span class="string">&quot;-=&quot;</span>));</span><br><span class="line"></span><br><span class="line">        assertArrayEquals(<span class="keyword">new</span> String[] &#123; <span class="string">&quot;abcab&quot;</span>, <span class="string">&quot;wjio&quot;</span>, <span class="string">&quot;ksldm&quot;</span>, <span class="string">&quot;xf&quot;</span>, <span class="string">&quot;w&quot;</span>, <span class="string">&quot;000wefj&quot;</span> &#125;,</span><br><span class="line">                <span class="string">&quot;abcabc1wjion2ksldmf3xfe9wf0000wefj&quot;</span>.split(<span class="string">&quot;[a-z]\\d&quot;</span>));</span><br><span class="line">        assertArrayEquals(<span class="keyword">new</span> String[] &#123; <span class="string">&quot;abc\nab&quot;</span>, <span class="string">&quot;\nwjio&quot;</span>, <span class="string">&quot;  ksld  m&quot;</span>, <span class="string">&quot;x\nf&quot;</span>, <span class="string">&quot;w&quot;</span>, <span class="string">&quot;0\n00wefj&quot;</span> &#125;,</span><br><span class="line">                <span class="string">&quot;abc\nabc1\nwjion2  ksld  mf3x\nfe9wf00\n00wefj&quot;</span>.split(<span class="string">&quot;[a-z]\\d&quot;</span>));</span><br><span class="line"></span><br><span class="line">        Pattern p = Pattern.compile(<span class="string">&quot;(\\w+?)-(\\d+)&quot;</span>);</span><br><span class="line">        Matcher m = p.matcher(<span class="string">&quot;123-123444-444gg-212=====bbbbb111-bb1111-bb-22&quot;</span>);</span><br><span class="line">        assertArrayEquals(</span><br><span class="line">                <span class="keyword">new</span> String[] &#123; <span class="string">&quot;123-123444&quot;</span>, <span class="string">&quot;123&quot;</span>, <span class="string">&quot;123444&quot;</span>, <span class="string">&quot;444gg-212&quot;</span>, <span class="string">&quot;444gg&quot;</span>, <span class="string">&quot;212&quot;</span>, <span class="string">&quot;bb-22&quot;</span>, <span class="string">&quot;bb&quot;</span>, <span class="string">&quot;22&quot;</span> &#125;,</span><br><span class="line">                getGroups(m, <span class="number">2</span>).toArray());</span><br><span class="line"></span><br><span class="line">        Pattern q = Pattern.compile(<span class="string">&quot;(\\w+?)-(\\d+?)&quot;</span>);</span><br><span class="line">        Matcher n = q.matcher(<span class="string">&quot;123-123444-444gg-212=====bbbbb111-bb1111-bb-22&quot;</span>);</span><br><span class="line">        assertArrayEquals(</span><br><span class="line">                <span class="keyword">new</span> String[] &#123; <span class="string">&quot;123-1&quot;</span>, <span class="string">&quot;123&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;23444-4&quot;</span>, <span class="string">&quot;23444&quot;</span>, <span class="string">&quot;4&quot;</span>, <span class="string">&quot;44gg-2&quot;</span>, <span class="string">&quot;44gg&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;bb-2&quot;</span>, <span class="string">&quot;bb&quot;</span>, <span class="string">&quot;2&quot;</span> &#125;,</span><br><span class="line">                getGroups(n, <span class="number">2</span>).toArray());</span><br><span class="line"></span><br><span class="line">        Pattern r = Pattern.compile(<span class="string">&quot;\\d-\\d&quot;</span>);</span><br><span class="line">        assertArrayEquals(<span class="keyword">new</span> String[] &#123; <span class="string">&quot;2-3&quot;</span>, <span class="string">&quot;5-2&quot;</span>, <span class="string">&quot;1-3&quot;</span> &#125;,</span><br><span class="line">                getGroups(r.matcher(<span class="string">&quot;ab 2-3\n2343\r2 \t55-22\n\r3331-3\r\n-33&quot;</span>), <span class="number">0</span>).toArray());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://torapture.github.io/2021/12/08/season-of-white-album/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="ToRapture">
      <meta itemprop="description" content="Some notes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ToRapture's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/08/season-of-white-album/" class="post-title-link" itemprop="url">在白色相簿的季节</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-12-08 13:54:05 13:54:05" itemprop="dateCreated datePublished" datetime="2021-12-08T13:54:05+08:00">2021-12-08 13:54:05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-12-08 16:39:10 16:39:10" itemprop="dateModified" datetime="2021-12-08T16:39:10+08:00">2021-12-08 16:39:10</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/12/08/season-of-white-album/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/12/08/season-of-white-album/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近又推了一遍白色相簿2，上一次推还是在2018年大学毕业之前，再上一次就是在2016年冬天了。</p>
<p>自己喜欢冬马多于雪菜，对冬马的共情也多于雪菜，对春希的共情程度则最低。对于冬马的动机和心理更加能理解，雪菜则次之，春希再次之。</p>
<p>首先需要讨论一些问题。</p>
<p>冬马是不是背叛者？ 冬马是背叛者，虽然冬马与春希互相暗恋先于雪菜出现，但是在春希雪菜确定关系已成既成事实的情况下冬马和春希在IC的结尾无疑是背叛了雪菜，在CODA的浮气线和冬马TE中同样也背叛了雪菜。</p>
<p>雪菜是不是背叛者？ 雪菜也是背叛者，在IC中雪菜明知春希冬马互相暗恋，却故意抢走春希，这应该看作背叛。</p>
<p>白色相簿2的IC和红楼梦一样，都是在开篇就剧透了结局。一个是说最后会发生背叛，一个是说最后会白茫茫大地真干净。所以在IC中，一开始就让你知道最后一定是春希和冬马背叛了雪菜，然后再让你去看春希和冬马的暗恋、春希和雪菜的交往和三人行。最后在CODA中，最早互相喜欢的两人却是最难在一起的，要付出巨大的惨烈的代价才能在一起。</p>
<h2 id="一些笔记">一些笔记</h2>
<p>冬马虽然经常上课迟到，但是总正好迟到5分钟。</p>
<p>雪菜说参加峰城附属小姐是朋友给她擅自报名的，这里的朋友是谁？</p>
<p>雪菜把春希和冬马带到自己家讨论同好会的事的时候，孝宏在门外偷听，跟母亲所因为姐姐抢了别人的男朋友，他们正在了断，她母亲说我没教过这么放荡的女儿啊。真是一语成谶。</p>
<p>雪菜对即使还不是交往状态的异性也会做出一些亲密的举动，比如去摸春希的刘海还有把食物移到春希的碗里。</p>
<p>在冬马家练习的春希睡过了终电冬马也没叫醒。</p>
<p>学园祭演出之后的那天，冬马是在等春希向她表白，她以为春希找她是要向她表白，然而等到的却是春希说向雪菜表白了。</p>
<p>雪菜明知道春希和冬马是互相喜欢的，却还抢先表白，然后还对冬马说如果她不在的话春希和冬马两个人就能加深羁绊了吧</p>
<p>我一直不知道雪菜的可爱是营业出来的还是不假思索的。</p>
<p>雪菜经常会说请你忘了之前的事吧，还会小声用别人也能听到的声音自言自语，别人听到了之后也是说让别人忘记。不知道雪菜是真的想让别人忘记还是记住，也不知道雪菜的自言自语让别人听到是刻意的还是无意的。如果是无意的，那雪菜也太粗心了吧。</p>
<p>雪菜在和春希表白的时候大概只和春希认识了一个月左右，雪菜为什么在认识这么短的时间内就表白，而且是在这么急的学园祭结束之后的早上？似乎有一些既快又违和。</p>
<p>学园祭之后面对雪菜的表白，春希没有拒绝。我觉的如果你真的很喜欢冬马的话，难道不应该不管是否会被冬马拒绝都要拒绝雪菜然后向冬马表白吗？就算被拒绝然后既没跟冬马在一起也没跟雪菜在一起也要这样选择，不是吗？而春希在接受雪菜表白之后，只是把对冬马的喜欢压抑了。</p>
<p>雪菜一定要拉上冬马，说明年冬天还要在一起，一定要让喜欢她男朋友的人一直在他们面前看着，这是什么处刑呀？雪菜的三人行充满了刻意，不顾现实，说什么三个人在一起的时候春希和冬马都是朋友。但是，就算是故意不去提，刻意淡化，也无法否定春希雪菜在交往，春希和冬马互相暗恋的事实，所以IC中的三人行根本无法持续下去，这也是雪菜不愿意去想的。</p>
<p>IC中雪菜最后跟春希说了当初的告白动机，但是否如她所说只是不想被另外两人排挤才告白的也不得而知。春希和雪菜的爱情基础始终是我无法理解的，理解不了雪菜为什么会喜欢上春希。雪菜在和春希在一起之后又一直把春希往冬马那里推，一直想让春希和冬马接触，无论是一起出去玩还是毕业典礼之后，这也难以理解。</p>
<p>CC前中期两人的交往给我的感觉就是伪，是故意忽略事实的刻意建构，在圣诞节的时候更是到了极致。比如「就当作只有我们两个人。」「我们两个人reset吧。」「所以在我们的面前，已经不存在任何障碍了。只要把这理所当然的事情，理所当然地去做就好。」这好像是在强迫自己去相信一样。</p>
<p>在海边公园，春希说要reset，要当成只有他们两个人的故事，这又怎么可能？凡有接触，必有痕迹，去掩盖一个谎言又要创造出多少新的谎言？雪菜这时表现出来的违和感也是心口不一。</p>
<p>CC中圣诞节的时候雪菜拒绝了春希，然后依绪为什么说雪菜做的不对？</p>
<p>在CC中我能接受的结局只有雪菜TE，我觉得你们三人的事情还没有了结，是不能和别人再发生关系的。如果和雪菜以外的其他人发生关系，怎么面对以后可能会回来的冬马？</p>
<p>冬马TE非常惨烈和残酷，而要进入CODA必须要经过CC雪菜TE，要进入冬马TE则必须要经过大阪之夜。</p>
<p>在CODA开始见到冬马的时候其实是有一些陌生的，因为在CC里几乎一直都没有出现，而且自己也接受了春希和雪菜在一起。如果说雪菜的偷跑是错，那么CC中就是将错就错，况且在CODA开头春希就准备求婚了，自己已经不再希望看到有什么变故发生。</p>
<p>冬马在第一次音乐会的时候大概已经做好了告别的准备，如果春希能来的话，音乐会就是和春希的告别。</p>
<p>在大版之夜，春希送出的戒指令人恶心，我觉得这么重要的戒指不应该在这种状态下送吧。</p>
<p>冬马TE也令人恶心，十分刻意，春希要以照顾冬马的生活为由留在冬马身边，再加上曜子的白血病，春希要说服自己冬马除了钢琴以外其他方面都是废物，而冬马则要坐实废物这个角色，这样两人才能有一点合理性。但两人也知道，这都是借口，是在互相催眠，其实是两人选择了背叛雪菜，而不是因为什么客观原因非留在冬马身边不可。</p>
<p>冬马TE里，春希和冬马也只深入接触了两个月左右，做决定的时间只有两周以内，难道和雪菜在一起的两年都比不过这几十天，比不过双方幻想出的精神恋爱吗？</p>
<p>依绪说得好，「真是糟糕透顶的纯爱啊，我都想要吐了。」</p>
<p>雪菜为了不影响冬马的音乐会，连被车撞了也谁都没有告诉。</p>
<p>在离开日本的飞机上，两人看向窗外，从此雪菜在春希心中的位置会不会像五年前冬马在春希心中的位置一样呢？雪菜对于春希来说是不是变成了下一个「和纱」呢？</p>
<p>冬马TE真的是对冬马来说最好的结局吗？在我看来这只是一个春希选择了冬马的结局而已，而且代价极其惨烈。在这个结局中，冬马要一直扮演一个除了钢琴以外其他方面都不能自理的废物。</p>
<p>而我能接受的大概只有雪菜TE，虽然一开始在IC中不是很喜欢雪菜，但是在CC和CODA中却慢慢喜欢上雪菜了。对于雪菜来说冬马也获得幸福是雪菜获得幸福的必要条件之一。</p>
<p>雪菜TE真的很梦幻，冬马也成长了，虽然我更喜欢冬马但我也不希望看到冬马为了和春希在一起而把自己束缚在一个小空间中。最后听到時の魔法看到结尾的CG的时候真的很感动。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://torapture.github.io/2021/10/28/all-efforts-ended-in-vain/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="ToRapture">
      <meta itemprop="description" content="Some notes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ToRapture's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/10/28/all-efforts-ended-in-vain/" class="post-title-link" itemprop="url">红楼一梦 万境归空</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-10-28 15:00:52 15:00:52" itemprop="dateCreated datePublished" datetime="2021-10-28T15:00:52+08:00">2021-10-28 15:00:52</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-11-23 23:59:32 23:59:32" itemprop="dateModified" datetime="2021-11-23T23:59:32+08:00">2021-11-23 23:59:32</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/10/28/all-efforts-ended-in-vain/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/10/28/all-efforts-ended-in-vain/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>浮生着甚苦奔忙? 盛席华筵终散场。</p>
<p>悲喜千般同幻梦，古今一梦尽荒唐。</p>
<p>慢言红袖啼痕重，更有情痴抱恨长!</p>
<p>字字看来皆是血，十年辛苦不寻常。</p>
</blockquote>
<h1 id="悲剧性">悲剧性</h1>
<p>《红楼梦》是什么？《红楼梦》是大悲剧。</p>
<p>《红楼梦》是什么样的悲剧？《红楼梦》是「怀金悼玉」的悲剧，是「一年三百六十日，风刀霜剑严相逼。明媚鲜艳能几时，一朝漂泊难寻觅。」这样的悲剧，是「千红一哭，万艳同悲」这样的悲剧。</p>
<p>在那样令人无可奈何的大染缸中，尤三姐失身时，浓妆艳抹，凌辱群凶，竟是她嫖了男人，并非男人淫了她。择夫后斩钉截铁，吃斋念佛。最后用鸳鸯剑断痴情，如此有气节，令须眉浊物们无地自容，是为悲剧。</p>
<p>被折磨到吞金自逝的尤二姐，清清白白却被撵出去的晴雯，有青云志却要听任婚姻安排的宝钗，被当作和亲工具远嫁的探春，她们的命运一样也是悲剧的。</p>
<p>众女子都决定不了自己的命运，是大悲剧。</p>
<h2 id="为普天之下众女子鸣不平">为普天之下众女子鸣不平</h2>
<p>第五回宝玉游太虚幻境，可知金陵十二钗、袭人、晴雯和香菱等都在薄命司，众女子的命运都很悲惨，而曹雪芹就是要为当时普天之下的众女子鸣不平。</p>
<p>《葬花吟》和第五回的判词、曲文所定下的基调是一个并非为某几个人而悲的基调，而是为众女子悲。</p>
<p>通过《葬花吟》，通过书中种种从宝玉还有其他女子口中说出的话，通过对各个命运悲惨的女子的描写，会看到当时的女性的处境。</p>
<h2 id="被禁锢的众生">被禁锢的众生</h2>
<h3 id="丫鬟">丫鬟</h3>
<p>富家的千金小时候被拐走当作奴婢卖，吃不起饭的穷苦人家为了粥米把女儿当作奴婢卖。 忽喇喇似大厦倾，机关算尽的贾府枭雄她的女儿被卖到烟花巷，昨日进宫待选的群芳之冠今日被当作奴婢卖，昔日买人卖人的家奴今日又反倒被卖。</p>
<p>那在不可一世的贾府当了丫鬟后又如何呢？要是觉得和主子平时玩得熟了，主子平时不摆主子姿态就忘了自己是丫鬟是万万不可的，说不定什么时候主子雨里等急了还给你来一记窝心脚。今天你还是主子最得意的大丫鬟，明天给你一巴掌然后说要把你赶走。纵使是曾带病夜补雀金裘，依然难逃被赶走的命运。更有为老不尊、好色荒淫的什么老爷要让你做妾，把你当作性工具。</p>
<p>那当了妾做了姨娘之后又如何呢？那也只是半个主子，比奴才高一点，但是在主子面前还是奴才，主子可以随意羞辱你，谈什么人格和尊严。甚至生的孩子却比自己的地位高，能羞辱自己，是个主子，所谓「庶出」。</p>
<h3 id="封建礼教禁锢下的女子">封建礼教禁锢下的女子</h3>
<p>在这个「礼仪之邦」中，有当代一些人向往的传统礼教，在那些礼教里有儒家大圣人的「夫为妻纲」、「七出」，更有恶臭不堪的「女子无才便是德」和《礼记·内则》<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>。</p>
<p>在第五十九回中，宝玉说：「女孩儿未出嫁，是颗无价之宝珠；出了嫁，不知怎么就变出许多的不好的毛病来，虽是颗珠子，却没有光彩宝色，是颗死珠了；再老了，更变的不是珠子，竟是鱼眼睛了。分明一个人，怎么变出三样来？」</p>
<p>第七十七回中说：「奇怪，奇怪，怎么这些人只一嫁了汉子，染了男人的气味，就这样混账起来，比男人更可杀了！」</p>
<p>国立台湾大学中国文学系教授欧丽娟老师在她的《红楼梦》系列课程中讲过这个现象<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>。 她说我们传统的女性活在一个非常不公平的社会里面，要了解她们的悲剧，要了解她们为什么会变成那个样子，首先要知道制度和社会的运作法则，才能知道人活在那样的社会制度当中，有的时候久而久之，不知不觉就会变成鱼眼睛。鱼眼睛有一个非常重要的特征就是越老就越变的越把钱看得真，也就是越吝啬，越贪财。宝玉的描述并没有冤枉这些鱼眼睛，只不过就历史现实来说，我们认可它的客观性，但是这不妨碍我们可以去思考在女性身上会造成这样一个历史事实的历史原因。思考为什么女人结了婚后她会丧失光芒，然后丧失光芒久了之后整个人的性情就变的非常不可爱，我们需要看一下古代女性的处境。</p>
<p>首先明清时候特别张扬一种价值观叫做「女子无才便是德」，女性从小几乎就不受教育，一个人如果不受教育就不要太期望她能有什么钟灵毓秀的表现。这些女人们除非有很特殊的家庭背景，否则她们几乎没有受过教育，没有受过教育就很容易只是一般的平凡人，这样我们就不能过度苛求。这时这些平凡人所受到的社会的待遇又不一样的话，可能就会使得她们的性格或人性中比较不好的一面被强化出来而以至于变成鱼眼睛。</p>
<p>我们来看一下古代女人结婚之后会受到什么待遇。</p>
<p>第一，她会很辛苦，她要做人家的媳妇，《礼记》里面说做媳妇要对公公婆婆的话百依百顺，要打不还手骂不还口等等。这真是完全压抑自我的身份。</p>
<p>第二，要做人家的妻子，妻子要以夫为天，妻子之道要臣服于夫道之下。</p>
<p>第三，要做人家的母亲，做母亲很辛苦，还要养小孩，还有柴米油盐酱醋茶等等。所以女孩子一旦进入婚姻当中，她几乎是没有自我的。然后各种琐琐碎碎对她的性灵提升、知识提升和人格提升几乎完全没有关系，久而久之性灵更加耗损。</p>
<p>所以作为一个天真少女所拥有的自然清新当然就会丧失殆尽。可是如果还只是这样的话还不会变成鱼眼睛。会让她变成鱼眼睛的还有一个很重要的待遇，那就是这个婚姻对她也是没有保障的，比如有「七出」。这个「七出」给女性非常强烈的不安全感，她为一个婚姻完全付出自我，可是她获得什么？原来她所获得的东西背后还有那么多的很难达到的条件。</p>
<p>所谓「七出」者：</p>
<blockquote>
<p>妇有七去：不顺父母去、无子去、淫去、妒去、有恶疾去、多言去、窃盗去。不顺父母去，为其逆德也；无子，为其绝世也；淫，为其乱族也；妒，为其乱家也；有恶疾，为其不可与共粢盛也；口多言，为其离亲也；盗窃，为其反义也。</p>
</blockquote>
<p>这就是在合法的婚姻当中七个可以名正言顺把妻子休掉，赶出夫家的合乎法令，合乎舆论的理由。</p>
<p>「七出」的第一条就是无子，生女儿不算数，因为女儿是嫁出去的，不属于我们家的，不能继承香火。如果没有儿子的话，就要看夫家有没有情义，如果有情义就留着你，另外再纳妾，没有情没有义的就把你赶走。 现在我们有点科学知识的都知道生男还是生女并不取决于女方，也并不能说取决于男方，而是取决于最不废物的那个精子。所以这一条真的是非常荒谬。</p>
<p>第二条是淫佚，这一条不能只从字面去看，古代对女人的贞跟淫的标准非常含混，而且其实是很宽松的。尤其是在明清，如果一个女人竟然写诗写词，这就是不贞的行为。</p>
<p>宋代一位女词人朱淑贞的诗反映了这个问题：</p>
<blockquote>
<p>女子弄文诚可罪，那堪咏月更吟风。</p>
<p>磨穿铁砚非吾事，绣折金针却有功。</p>
</blockquote>
<p>创作诗词这种无关现实，无助于夫家，不能促进这个家族的现实利益的这种喜好就「诚可罪」。古人有一个很奇怪的观念，他们觉得一个女人如果受太多的教育反而会影响到她做一个贤妻良母。在明清的文人眼中，如果竟然还去弄那些风花雪月的诗词，那么这个女人就是红杏出墙的几率最高的一种人，因为他们觉得没有谨守妇道和闺门的限度。古代还有所谓「男女授受不亲」，甚至一个女子不小心跟一个男子碰到了，就有可能被认为是淫佚。这里面的「七出」是要用一种非常宽的方式去认定的。</p>
<p>第三条是妒忌，你要和别人同时分享一个你所爱的人，谁会不妒忌呢？可是为了要维护父权的利益，所以请你们压抑你们天然的人性。</p>
<p>第四条是窃盗，窃盗也要很宽松地看。一个女人嫁到夫家，她的一切都属于夫家所有，如果她竟然藏私房钱就属于窃盗，因为她把夫家的东西据为己有。</p>
<p>第五条是口舌，就是说口才太好，太爱讲话。口才太好，滔滔不绝，结果你的丈夫跟你一辩论竟然还输了你，夫为妻子之天，你竟然让天这样地丢脸，不守妇道！</p>
<p>第六条是不事舅姑，就是没有好好侍奉你的公婆。反正娶她进来有一个重要的目的就是帮助丈夫来孝顺他的父母。</p>
<p>第七条是恶疾。</p>
<p>可见「七出」中的说法都是在把女人当成工具，体现的都是工具价值。女人不是被当作一个独立自主的人，完全是为了服务男性而存在的。它犹如尚方宝剑，就是说我可以不拿出来休掉你，但是我一拿出来你必死无疑。所以古代的女性活在了一个充满了不安全感、不平等的处境中。她最后可以依靠的只是生儿子，可是未必能有儿子。如果能有儿子，她就要好好保护这个儿子，因为这是她将来地位的唯一的依靠。如果没有儿子，那么她的唯一的依靠当然就是钱。所以那些鱼眼睛们就会越老越把钱看得真，也不能完全归罪于她们。</p>
<p>以上是对欧丽娟老师的讲义的整理。</p>
<hr />
<p>我们还会看到那个时代受到剥削的女性反而会参与剥削其他的女性。</p>
<p>贾赦的妻子邢夫人反而会给自己的丈夫找妾。在贾赦看上鸳鸯之后，邢夫人居然对鸳鸯说：「过一年半载，生下个一男半女，你就和我并肩了。」言外之意是你得生孩子，才能体现更多的价值，你给老爷造个人，别人就又要高看你一眼了。</p>
<p>再来看探春。</p>
<p>在探春身上我们可以发现一个现象，探春是老爷和妾生的，即庶出。但即使是庶出的探春也比她母亲地位高，她母亲依然是奴才身份，反过来她确实主子身份，还可以训她娘。这里就引出一个问题，为什么半个主子身份的姨娘能生出一个主子身份的小姐？看来女人在这个意义上只被当作生育工具，是为了男方的家庭延续血脉用的，而后代的阶级却取决于参与生育的男方。</p>
<p>第五十五回探春说：「我但凡是个男人，可以出得去，我必早走了，立一番事业，那时自有我一番道理。偏我是女孩儿家，一句多话也没有我乱说的。」 探春是这么一个有能力，果断的女子，王熙凤病倒后她主政，操刀改革。探春看得透，拿得定，说得出，办得来，是有才干者。最后她却只能被打了败仗的朝廷当作和亲的工具远嫁，令人无限惋惜。</p>
<h2 id="宝黛爱情的悲剧">宝黛爱情的悲剧</h2>
<p>儒家五伦中有「夫妻」，但这说的不是爱情，说的是伦理原则，规定的是一系列价值标准。儒家把夫妻关系作为一种实体的伦理关系确定下来，这样就排除了主观性。</p>
<p>如果爱情要有一个什么需要依据的纲领来规定什么该做，什么不该做，什么是爱，什么是不爱，那就谈不上是爱情。</p>
<p>中国传统的婚礼大多是在两个家族的面前举行的，这是中国人让这份关系摆脱个别性、主观性从而达到伦理实体的一种方式。这是两个家族之间的联系，这两个个人的婚姻要由家族决定。</p>
<p>宝玉和黛玉等一众公子小姐们，周围几乎一直都是一堆丫鬟，到哪几乎都会有人跟着，出个家门还要有人陪同，几乎没有隐私和自由可言。而在那个婚姻由双方家庭决定的社会，你居然在家庭给决定终身大事之前有自己的私情，成何体统？</p>
<p>所以在第五十七回「慧紫鹃情辞试宝玉」中有黛玉的内心想法：「幸喜众人都知宝玉原有些呆气，自幼是他二人亲密，如今紫鹃之戏语亦是常情，宝玉之病亦非罕事，因不疑到别事去。」 他们两人不能自己公开心意，只能等家庭决定，最终黛玉泪尽魂归离恨天，宝玉洒泪相思地，酿成悲剧。</p>
<p>黑格尔说：「在不太尊重女性的那些民族中，父母对于婚事总是按照他们的任意来指定，而从不询问当事人的意见。······相反地，在现时代，主观的出发点即爱恋被看作唯一重要的因素。」<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<h1 id="对钗黛的看法">对钗黛的看法</h1>
<p>据第四十二回脂批有：</p>
<blockquote>
<p>钗、玉名虽二个，人却一身，此幻笔也。</p>
</blockquote>
<p>这回中宝钗还对黛玉说：「我们家也算是个读书人家，祖父手里也爱藏书。······他们是偷背着我们看，我们却也偷背着他们看。」 注意这个「也」字，可知宝钗自幼可能也像黛玉一样读了很多书。我认为宝钗未必诗词文采不如黛玉，黛玉也未必不知世故。 钗黛的不同大概就是她们人生追求与安身立命之地的不同，大概一个入世一些，一个出世一些，追求的境界不同。</p>
<p>第六十四回宝钗对黛玉说：「自古道『女子无才便是德』，总以贞静为主，女工还是第二件。其馀诗词，不过是闺中游戏，原可以会可以不会，咱们这样人家的姑娘，倒不要这些才华的名誉。」</p>
<p>第七十回大家以柳絮为题作诗，宝钗说：「我想，柳絮原是一件轻薄无根无绊的东西，然依我的主意，偏要把他说好了，才不落套。」</p>
<p>诗的最后一句：</p>
<blockquote>
<p>韶华休笑本无根，好风频借力，送我上青云！</p>
</blockquote>
<p>可以看到宝钗和黛玉的人生态度不同，宝钗是有青云志的女子，有抱负，如果结婚的话大概也会是贤妻良母，会和丈夫一同追求功名，成就一番事业，似乎更加入世一些。 但宝钗好像没有为自己活过，各个事情总是要采取一个中庸的姿态，似乎外面有一层儒家理想女子的外壳，这个外壳会指示她各个事情应该如何处理，但她的真实想法却很难被人知道。</p>
<p>宝钗似乎一直在压抑自我，给我一种在听『別の人の彼女になったよ』时歌中女子的既视感，像是歌里唱的人：</p>
<blockquote>
<p>夢や希望とかを　語ることを嫌って</p>
<p>讨厌谈论梦与希望<br />
</p>
<p>ちゃんと現実をね　見つめていて</p>
<p>要好好看看现实</p>
<p>正しいことだけしか　言わないから</p>
<p>只说正确的言论</p>
<p>ずっとさらけ出せず　おとなしくしてるの</p>
<p>不再显露本性 老实成熟</p>
</blockquote>
<p>而最后宝钗也没能决定自己的命运，被家庭牵连，进宫选拔的进路被断，被家里安排和自己从没爱过也从没爱过自己的宝玉结婚，两个人的路不同，大概没有办法有灵魂上的交流。 嫁给跟自己根本就不适合的宝玉，这又何尝不是悲剧？</p>
<blockquote>
<p>空对着，山中高士晶莹雪；终不忘，世外仙姝寂寞林。</p>
</blockquote>
<p>而黛玉是一位浪漫主义的诗人，虽然她总主观感觉自己是寄人篱下，「风刀霜剑严相逼」，但是在贾府她是可以跟宝玉比肩的宠儿。 不喜欢宝钗的人觉得她心机太重，太老成，太世故；不喜欢黛玉的人觉得她太尖酸刻薄，太爱哭，太麻烦，太任性。 但是我觉得她们两个首先人生态度不同，每个人有适合自己的人生态度。 黛玉虽然一直在流泪，但是她留下了很多绝唱的诗词，她还在的时候是唯美的，最后泪尽，在最美的时候红消香断。 虽然有人觉得她就是总这么多愁善感，所以才会走得那么早。 但是人真的要活那么久吗？樱花开放的时候非常梦幻，但是转眼间花谢花飞花满天。 黛玉大概代表了纯粹的不掺杂质的美，是质本洁来还洁去。 她只为她的追求和知己而生。</p>
<p>虽然黛玉也有各种各样的不足，而且棱角分明，但和宝钗相比自己还是更喜欢黛玉，当然宝钗也很喜欢。</p>
<h2 id="葬花吟">《葬花吟》</h2>
<p>我认为黛玉的《葬花吟》不仅仅是把自己主观感受到的处境投射到花中，更多的是和转眼间就凋谢飘落的花的共鸣，是对转瞬即逝的美的惋惜，在共鸣中可以看到花的命运，继而看到红颜的命运，继而看到自己的命运。</p>
<p>下面引用两段叔本华的话：</p>
<blockquote>
<p>如果说对于所有这些人里面的任何一个，都好象是在自己的我和别人的我之间横亘着巨大差别似的，那么，对于我们想象中这位崇高的人则相反，对于他，人我之分就不是那么重要了，个体化原理，现象的形式就不再是那么严密地局限他了，而是他在别人身上看到的痛苦几乎和他自己的痛苦一样使他难受。<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
</blockquote>
<blockquote>
<p>如果我们不是由于自己的而是由于别人的痛苦所激动，以至于哭，那么，我们哭是因为我们在生动的想象中为痛苦的人设身处地，或者因为我们在这个人的命运中看到全人类的命运，从而首先是看到自己的命运；所以，通过老远的绕道总还是为了自己而哭，总还是对我们自己感到同情。<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
</blockquote>
<h1 id="关于爱情和婚姻">关于爱情和婚姻</h1>
<p>有人认为宝黛之间的爱情是由于一见钟情，诚然，他们初见时互相都有似曾相识的感觉，但他们的爱情的基础恐怕还是日久生情。</p>
<p>第五回开头有：</p>
<blockquote>
<p>便是宝玉和黛玉二人之亲密友爱处，亦自较别个不同，日则同行同坐，夜则同息同止，真是言和意顺，略无参商。</p>
</blockquote>
<p>注意上文中的「友爱」二字。</p>
<p>第五十七回紫鹃对黛玉说：「我们这里就算好人家，别的都容易，最难得的是从小儿一处长大，脾气性情都彼此知道的了。」</p>
<p>一见钟情其实很令人怀疑，如果「一见」是用来否定的话，那倒还好，但要是「钟情」了，恐怕就有些麻烦了。 只一见，又怎么能知道对方的秉性、风格和想法呢，说不定两人的价值取向和偏好等并不合适，导致两人很难有共鸣，很难有深入交流。 更有可能是自己心中有了一个理想中的对象的理念，这个理念是形而上的，就像是所谓的柏拉图的理念一样，而在现实中遇到了一个令自己一见钟情的对象后，就把自己心目中的理想的对象的特质都投射到现实中一见钟情的对象身上，对现实中的这个对象有了不切实际的期待，最后无疾而终。</p>
<p>所以所谓一见钟情生的是什么样的情也值得讨论。</p>
<p>第六十六回的脂批有：</p>
<blockquote>
<p>余叹世人不识情字，常把淫字当作情字；殊不知淫里无情，情里无淫，淫必伤情，情必戒淫，情断处淫生，淫断处情生。</p>
</blockquote>
<p>而两个人交往了以后，关于长久还有可以讨论的问题。 我认为有长久打算的交往和没有长久打算的交往是不同的。 有长久打算的交往不管最后是否长久，它都是在想要长久这个前提下进行的，它里面包含着长久这样一个期待，而最终长久的可能性则不光取决于个人的意志，还取决于诸多其他因素。 而没有长久打算的交往，当站在未来的时间点看时有两种可能，一种是居然长久了，更有可能是果然分开了。 而站在现在的时间点看未来，如果要开始一次大概率会分开的交往，那么该怎样看待呢？是不去想以后，有着此时此刻的当下，此时此刻有这样一份感情就可以了吗？ 而分开以后有如何看代之前的那一段感情呢？它之后只会在回忆中出现，曾经的当下如今变成回忆，是只要有当时的那样一个当下就可以了吗？</p>
<p>再来看婚姻。</p>
<p>虽然结婚被形容为大喜，但依我看大喜的可能只是少数，大悲才是平常。 婚后不和比比皆是，更有出轨、嫖娼等，身边不乏这些例子。</p>
<p>如果婚姻是作为爱情的延续倒还好，这时婚姻本就是两个人的事，甚至不需要仪式和所谓证婚人的证明，难道属于两个人的关系非要双方以外的什么人或双方的家庭承认吗？ 而婚姻如果作为手段是被双方家庭安排的，或者是出于政治和利益等目的，那么不得不说，在这场婚姻中成婚的双方牺牲了个人的独立性。</p>
<h1 id="版红楼梦">87版《红楼梦》</h1>
<p>87版《红楼梦》没有按照程高本拍结尾真是太好了。曹雪芹「字字看来皆是血」用血泪写成的书难道就是用血泪写二女争婚和掉包计吗？太庸俗了！红楼梦的格局是「千红一哭，万艳同悲」的格局，是《葬花吟》的格局，是要反映当时社会的普遍性的格局。</p>
<p>宝玉从来只爱黛玉，黛玉也只爱宝玉，贾府几乎从上到下都能看出两人的心意，而且贾母更是维护两个人，所以如果突然写宝玉或者贾母会变心就显得特别违和。</p>
<h1 id="最后的一点思考">最后的一点思考</h1>
<p>人终会死，而若已经决定使自己不再成为轮回的中介，又为谁起高楼，为谁建大厦？或明天死，或明年死。</p>
<p>「尔今死去侬收葬，未卜侬身何日丧。」</p>
<p>多少年后，世界是否依然存在尚未可知。</p>
<p>「悲喜千般同幻梦，古今一梦尽荒唐。」</p>
<p>叔本华认为人生就是痛苦，所有的欲求都是无目的的盲目冲动，认为人生只不过是被推迟了的死亡。如果我们先不去评判叔本华的价值判断，只就事实判断来说，人生确实是被推迟了的死亡。</p>
<p>如果人总会老死，那么生病的时候为什么要治呢，治病也无非是推迟死亡。因为在这个当下不治则痛苦。</p>
<p>但是这个当下终究也会不在，转眼间变成为过去，为什么还要在乎这个当下呢。</p>
<p>从消极的角度来看，是因为没有选择不推迟死亡，是因为有某种执念所以一定非要怎样怎样不可，这就像是叔本华说的欲求。</p>
<p>积极一点来看，存在主义认为世界、人生什么的本来就没有预先被设定好的意义和目的，什么是有价值的，什么是有意义的都是人定的。所以就算红颜弹指老，至少在这个当下也要娇花照水，虽然薄命，也要在潇湘馆作诗，流泪。</p>
<hr />
<blockquote>
<p>陋室空堂，当年笏满床；衰草枯杨，曾为歌舞场。</p>
<p>蛛丝儿结满雕梁，绿纱今又糊在蓬窗上。说什么脂正浓，粉正香，如何两鬓又成霜？</p>
<p>昨日黄土陇头送白骨，今宵红灯帐底卧鸳鸯。</p>
<p>金满箱，银满箱，转眼乞丐人皆谤。</p>
<p>正叹他人命不长，那知自己归来丧！</p>
<p>训有方，保不定日后作强梁。择膏粱，谁承望流落在烟花巷！</p>
<p>因嫌纱帽小，致使锁枷扛，昨怜破袄寒，今嫌紫蟒长。</p>
<p>乱烘烘你方唱罢我登场，反认他乡是故乡。甚荒唐，到头来都是为他人作嫁衣裳！</p>
</blockquote>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p><a target="_blank" rel="noopener" href="https://ctext.org/liji/nei-ze/zh">《礼记·内则》</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p><a target="_blank" rel="noopener" href="https://youtu.be/suRabpvvNNg?t=3740">紅樓夢 07. 讖語式的表達策略 I : 讖謠、詩讖 (一)</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p>黑格尔.黑格尔著作集 第7卷 法哲学原理.人民出版社.304<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4" role="doc-endnote"><p>叔本华.作为意志和表象的世界.商务印书馆.1982年11月第1版.511<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5" role="doc-endnote"><p>叔本华.作为意志和表象的世界.商务印书馆.1982年11月第1版.517<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://torapture.github.io/2021/02/13/Usage-of-FFmpeg/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="ToRapture">
      <meta itemprop="description" content="Some notes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ToRapture's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/02/13/Usage-of-FFmpeg/" class="post-title-link" itemprop="url">Usage of FFmpeg</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-02-13 20:35:35 20:35:35" itemprop="dateCreated datePublished" datetime="2021-02-13T20:35:35+08:00">2021-02-13 20:35:35</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-02-13 21:23:28 21:23:28" itemprop="dateModified" datetime="2021-02-13T21:23:28+08:00">2021-02-13 21:23:28</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/02/13/Usage-of-FFmpeg/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/02/13/Usage-of-FFmpeg/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="转换gif">转换GIF</h1>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ffmpeg -ss &#123;start_time&#125; -to &#123;end_time&#125; -i &#123;input_file&#125; -r &#123;frame_rate&#125; -vf scale&#x3D;-2:&#123;height&#125; &#123;output_name&#125;.gif</span><br></pre></td></tr></table></figure>
<p>For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ffmpeg -ss 01:30:02 -to 01:30:12 -i &#39;227 ELEVEN.mp4&#39; -r 15 -vf scale&#x3D;-2:240 cut.gif</span><br></pre></td></tr></table></figure>
<h1 id="截取视频">截取视频</h1>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ffmpeg -ss &#123;start_time&#125; -to &#123;end_time&#125; -i &#123;input_file&#125; -preset &#123;preset&#125; -c:v &#123;encoding&#125; &#123;output_file&#125;</span><br></pre></td></tr></table></figure>
<p>For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ffmpeg -ss 00:30:01 -to 00:30:11 -i &#39;227 ELEVEN.mp4&#39; -preset veryslow -c:v libx264 cut.mkv</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://torapture.github.io/2021/01/11/Kafka-Learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="ToRapture">
      <meta itemprop="description" content="Some notes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ToRapture's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/11/Kafka-Learning/" class="post-title-link" itemprop="url">Kafka Learning</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-01-11 18:02:25 18:02:25" itemprop="dateCreated datePublished" datetime="2021-01-11T18:02:25+08:00">2021-01-11 18:02:25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-02-13 20:27:09 20:27:09" itemprop="dateModified" datetime="2021-02-13T20:27:09+08:00">2021-02-13 20:27:09</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/01/11/Kafka-Learning/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/01/11/Kafka-Learning/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="start-kafka">Start Kafka</h1>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ .&#x2F;bin&#x2F;zookeeper-server-start.sh .&#x2F;config&#x2F;zookeeper.properties</span><br><span class="line">$ .&#x2F;bin&#x2F;kafka-server-start.sh .&#x2F;config&#x2F;server.properties</span><br><span class="line">$ .&#x2F;bin&#x2F;kafka-topics.sh --create --topic test-topic --replication-factor 1 --partitions 1 --zookeeper localhost:2181</span><br><span class="line">$ .&#x2F;bin&#x2F;kafka-topics.sh --bootstrap-server localhost:9092 --alter --topic test-topic --partitions 10</span><br></pre></td></tr></table></figure>
<h1 id="create-new-project">Create New Project</h1>
<p>Run: <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn archetype:generate -DgroupId&#x3D;org.torapture.test -DartifactId&#x3D;kafka-test -DarchetypeArtifactId&#x3D;maven-archetype-quickstart -DarchetypeVersion&#x3D;1.4 -DinteractiveMode&#x3D;false</span><br></pre></td></tr></table></figure></p>
<p>To use the producer and consumer, you can use the following maven dependency: <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.kafka<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>kafka-clients<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>After modified, the file structure is: <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ tree kafka-test</span><br><span class="line">kafka-test</span><br><span class="line">├── kafka-test.iml</span><br><span class="line">├── pom.xml</span><br><span class="line">└── src</span><br><span class="line">    ├── main</span><br><span class="line">    │   └── java</span><br><span class="line">    │       └── org</span><br><span class="line">    │           └── torapture</span><br><span class="line">    │               └── test</span><br><span class="line">    │                   ├── Consumer.java</span><br><span class="line">    │                   └── Producer.java</span><br><span class="line">    └── test</span><br><span class="line">        └── java</span><br><span class="line">            └── org</span><br><span class="line">                └── torapture</span><br><span class="line">                    └── test</span><br><span class="line">                        └── AppTest.java</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p><code>Producer</code>: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.torapture.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.kafka.clients.producer.KafkaProducer;</span><br><span class="line"><span class="keyword">import</span> org.apache.kafka.clients.producer.ProducerRecord;</span><br><span class="line"><span class="keyword">import</span> org.apache.kafka.clients.producer.RecordMetadata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Producer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">onCompletion</span><span class="params">(RecordMetadata meta, Exception e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (e != <span class="keyword">null</span>) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.printf(<span class="string">&quot;offset: %d, partition: %d, topic: %s%n&quot;</span>, meta.offset(), meta.partition(), meta.topic());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Properties props = <span class="keyword">new</span> Properties();</span><br><span class="line">        props.put(<span class="string">&quot;bootstrap.servers&quot;</span>, <span class="string">&quot;localhost:9092&quot;</span>);</span><br><span class="line">        props.put(<span class="string">&quot;key.serializer&quot;</span>, <span class="string">&quot;org.apache.kafka.common.serialization.StringSerializer&quot;</span>);</span><br><span class="line">        props.put(<span class="string">&quot;value.serializer&quot;</span>, <span class="string">&quot;org.apache.kafka.common.serialization.StringSerializer&quot;</span>);</span><br><span class="line"></span><br><span class="line">        KafkaProducer&lt;String, String&gt; producer = <span class="keyword">new</span> KafkaProducer&lt;&gt;(props);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            String key = String.valueOf(i);</span><br><span class="line">            String value = String.format(<span class="string">&quot;value is %d&quot;</span>, i);</span><br><span class="line">            ProducerRecord&lt;String, String&gt; record = <span class="keyword">new</span> ProducerRecord&lt;&gt;(<span class="string">&quot;test-topic&quot;</span>, key, value);</span><br><span class="line">            producer.send(record, Producer::onCompletion);</span><br><span class="line">        &#125;</span><br><span class="line">        producer.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>Consumer</code>: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.torapture.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.kafka.clients.consumer.ConsumerRecord;</span><br><span class="line"><span class="keyword">import</span> org.apache.kafka.clients.consumer.ConsumerRecords;</span><br><span class="line"><span class="keyword">import</span> org.apache.kafka.clients.consumer.KafkaConsumer;</span><br><span class="line"><span class="keyword">import</span> org.apache.kafka.common.errors.WakeupException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wakeup</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    KafkaConsumer&lt;K, V&gt; consumer;</span><br><span class="line"></span><br><span class="line">    Wakeup(KafkaConsumer&lt;K, V&gt; consumer) &#123;</span><br><span class="line">        <span class="keyword">this</span>.consumer = consumer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">10000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        consumer.wakeup();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Consumer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Properties props = <span class="keyword">new</span> Properties();</span><br><span class="line">        props.put(<span class="string">&quot;bootstrap.servers&quot;</span>, <span class="string">&quot;localhost:9092&quot;</span>);</span><br><span class="line">        props.put(<span class="string">&quot;key.deserializer&quot;</span>, <span class="string">&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;</span>);</span><br><span class="line">        props.put(<span class="string">&quot;value.deserializer&quot;</span>, <span class="string">&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;</span>);</span><br><span class="line">        props.put(<span class="string">&quot;group.id&quot;</span>, <span class="string">&quot;test-group&quot;</span>);</span><br><span class="line">        props.put(<span class="string">&quot;auto.offset.reset&quot;</span>, <span class="string">&quot;earliest&quot;</span>);</span><br><span class="line"></span><br><span class="line">        KafkaConsumer&lt;String, String&gt; consumer = <span class="keyword">new</span> KafkaConsumer&lt;&gt;(props);</span><br><span class="line">        consumer.subscribe(Collections.singletonList(<span class="string">&quot;test-topic&quot;</span>));</span><br><span class="line"></span><br><span class="line">        Thread wakeup = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Wakeup&lt;&gt;(consumer));</span><br><span class="line">        wakeup.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                ConsumerRecords&lt;String, String&gt; records = consumer.poll(<span class="number">100</span>);</span><br><span class="line">                <span class="keyword">for</span> (ConsumerRecord&lt;String, String&gt; record : records) &#123;</span><br><span class="line">                    System.out.printf(<span class="string">&quot;topic = %s, partition = %d, offset = %d, key = %s, value = %s%n&quot;</span>,</span><br><span class="line">                            record.topic(), record.partition(), record.offset(), record.key(), record.value());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (WakeupException e) &#123;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            consumer.close();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        wakeup.join();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="produce-and-consume">Produce and Consume</h1>
<p>Build the project first by: <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package</span><br></pre></td></tr></table></figure></p>
<p>Then: <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">$ mvn exec:java -Dexec.mainClass&#x3D;org.torapture.test.Producer                                        </span><br><span class="line">WARNING: An illegal reflective access operation has occurred</span><br><span class="line">WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:&#x2F;usr&#x2F;share&#x2F;maven&#x2F;lib&#x2F;guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)</span><br><span class="line">WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1</span><br><span class="line">WARNING: Use --illegal-access&#x3D;warn to enable warnings of further illegal reflective access operations</span><br><span class="line">WARNING: All illegal access operations will be denied in a future release</span><br><span class="line">[INFO] Scanning for projects...</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] -------------------&lt; org.torapture.test:kafka-test &gt;--------------------</span><br><span class="line">[INFO] Building kafka-test 1.0-SNAPSHOT</span><br><span class="line">[INFO] --------------------------------[ jar ]---------------------------------</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --- exec-maven-plugin:3.0.0:java (default-cli) @ kafka-test ---</span><br><span class="line">SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http:&#x2F;&#x2F;www.slf4j.org&#x2F;codes.html#StaticLoggerBinder for further details.</span><br><span class="line">offset: 0, partition: 3, topic: test-topic</span><br><span class="line">offset: 1, partition: 3, topic: test-topic</span><br><span class="line">offset: 2, partition: 3, topic: test-topic</span><br><span class="line">offset: 0, partition: 0, topic: test-topic</span><br><span class="line">offset: 0, partition: 8, topic: test-topic</span><br><span class="line">offset: 1, partition: 8, topic: test-topic</span><br><span class="line">offset: 0, partition: 9, topic: test-topic</span><br><span class="line">offset: 1, partition: 9, topic: test-topic</span><br><span class="line">offset: 0, partition: 6, topic: test-topic</span><br><span class="line">offset: 0, partition: 7, topic: test-topic</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time:  0.848 s</span><br><span class="line">[INFO] Finished at: 2021-01-11T18:56:03+08:00</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ mvn exec:java -Dexec.mainClass&#x3D;org.torapture.test.Consumer</span><br><span class="line">WARNING: An illegal reflective access operation has occurred</span><br><span class="line">WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:&#x2F;usr&#x2F;share&#x2F;maven&#x2F;lib&#x2F;guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)</span><br><span class="line">WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1</span><br><span class="line">WARNING: Use --illegal-access&#x3D;warn to enable warnings of further illegal reflective access operations</span><br><span class="line">WARNING: All illegal access operations will be denied in a future release</span><br><span class="line">[INFO] Scanning for projects...</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] -------------------&lt; org.torapture.test:kafka-test &gt;--------------------</span><br><span class="line">[INFO] Building kafka-test 1.0-SNAPSHOT</span><br><span class="line">[INFO] --------------------------------[ jar ]---------------------------------</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] --- exec-maven-plugin:3.0.0:java (default-cli) @ kafka-test ---</span><br><span class="line">SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http:&#x2F;&#x2F;www.slf4j.org&#x2F;codes.html#StaticLoggerBinder for further details.</span><br><span class="line">topic &#x3D; test-topic, partition &#x3D; 3, offset &#x3D; 0, key &#x3D; 3, value &#x3D; value is 3</span><br><span class="line">topic &#x3D; test-topic, partition &#x3D; 3, offset &#x3D; 1, key &#x3D; 4, value &#x3D; value is 4</span><br><span class="line">topic &#x3D; test-topic, partition &#x3D; 3, offset &#x3D; 2, key &#x3D; 9, value &#x3D; value is 9</span><br><span class="line">topic &#x3D; test-topic, partition &#x3D; 0, offset &#x3D; 0, key &#x3D; 5, value &#x3D; value is 5</span><br><span class="line">topic &#x3D; test-topic, partition &#x3D; 8, offset &#x3D; 0, key &#x3D; 2, value &#x3D; value is 2</span><br><span class="line">topic &#x3D; test-topic, partition &#x3D; 8, offset &#x3D; 1, key &#x3D; 6, value &#x3D; value is 6</span><br><span class="line">topic &#x3D; test-topic, partition &#x3D; 9, offset &#x3D; 0, key &#x3D; 1, value &#x3D; value is 1</span><br><span class="line">topic &#x3D; test-topic, partition &#x3D; 9, offset &#x3D; 1, key &#x3D; 7, value &#x3D; value is 7</span><br><span class="line">topic &#x3D; test-topic, partition &#x3D; 6, offset &#x3D; 0, key &#x3D; 0, value &#x3D; value is 0</span><br><span class="line">topic &#x3D; test-topic, partition &#x3D; 7, offset &#x3D; 0, key &#x3D; 8, value &#x3D; value is 8</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time:  10.663 s</span><br><span class="line">[INFO] Finished at: 2021-01-11T18:56:17+08:00</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://torapture.github.io/2020/12/06/%E9%BB%91%E6%9A%97%E4%B9%8B%E9%AD%823%E6%AD%A6%E5%99%A8-10%E6%B5%81%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="ToRapture">
      <meta itemprop="description" content="Some notes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ToRapture's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/06/%E9%BB%91%E6%9A%97%E4%B9%8B%E9%AD%823%E6%AD%A6%E5%99%A8-10%E6%B5%81%E7%A8%8B/" class="post-title-link" itemprop="url">黑暗之魂3武器+10流程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-12-06 11:21:59 11:21:59" itemprop="dateCreated datePublished" datetime="2020-12-06T11:21:59+08:00">2020-12-06 11:21:59</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-03-04 22:05:09 22:05:09" itemprop="dateModified" datetime="2022-03-04T22:05:09+08:00">2022-03-04 22:05:09</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/12/06/%E9%BB%91%E6%9A%97%E4%B9%8B%E9%AD%823%E6%AD%A6%E5%99%A8-10%E6%B5%81%E7%A8%8B/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/12/06/黑暗之魂3武器-10流程/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="物品">物品</h1>
<h2 id="元素碎片">元素碎片</h2>
<ul>
<li><strong>传火祭祀场</strong> 房梁</li>
<li><strong>洛斯里克的高墙</strong> 小偷钥匙房间</li>
<li><strong>不死聚落</strong> 着火大树</li>
<li><strong>磔罚森林</strong> 火堆处十字架疯子敌人附近可跳下位置</li>
<li><strong>净身小教会</strong> 四活尸拜碑处</li>
<li><strong>法兰要塞</strong> 篝火#1之后，灭火处之前，斜插圆顶建筑下方</li>
<li><strong>恶魔遗迹</strong> <strong>老王门厅</strong>篝火附近隐藏墙壁</li>
<li><strong>亚诺尔隆德</strong> 正门左侧宝箱</li>
<li><strong>伊鲁席尔地下监牢</strong> 下方通向外面的门的路上的一个宝箱怪</li>
<li><strong>妖王庭院</strong> 电梯夹层右侧</li>
<li><strong>大书库</strong> 三个羽翼骑士附近的平台</li>
</ul>
<h2 id="不死人遗骨">不死人遗骨</h2>
<ul>
<li><strong>不死聚落</strong> 白桦树附近</li>
<li><strong>幽邃教堂</strong> 白桦树附近石碑</li>
<li><strong>法兰要塞</strong> <strong>要塞遗迹</strong>篝火下方右侧塔内蛞蝓堆</li>
<li><strong>卡萨斯地下墓地</strong> 第一个大球</li>
<li><strong>恶魔遗迹</strong> <strong>恶魔遗迹</strong>篝火下楼梯后再下第一个楼梯，到达一个大房间后左转直走</li>
<li><strong>熏烟湖</strong> 沙虫</li>
<li><strong>冷冽谷的伊鲁席尔</strong> 幽尔希卡教堂下去后墓碑后面</li>
<li><strong>罪业之都</strong> 篝火处</li>
<li><strong>洛斯里克城</strong> 龙训练场喷火桥远处滚下</li>
<li><strong>大书库</strong> 通往室外三人组之前的看书尸体</li>
</ul>
<h2 id="装备">装备</h2>
<ul>
<li>100%物防战技盾：<strong>洛斯里克的高墙</strong>小偷钥匙房间上方宝箱</li>
<li>护手套：<strong>不死聚落</strong>下水道需要钥匙的门附近</li>
<li>小皮盾：<strong>不死聚落</strong>篝火#1进门后</li>
<li>火把：购买</li>
<li>亡命骑士套装：<strong>磔罚森林</strong>跳楼NPC门口附近大树</li>
</ul>
<h2 id="武器">武器</h2>
<ul>
<li>阔剑：<strong>洛斯里克的高墙</strong>枪兵洛骑之前的房间</li>
<li>黑暗之手：12000购买</li>
</ul>
<h2 id="戒指">戒指</h2>
<ul>
<li>贪婪银蛇戒指：<strong>传火祭祀场</strong>房梁隐藏门后面</li>
<li>绿花戒指：<strong>不死聚落</strong>和洋葱骑士打完火焰恶魔后高塔跳下</li>
<li>元素戒指：<strong>传火祭祀场</strong>塔底</li>
<li>教宗左眼：<strong>冷冽谷的玻尔多</strong>灵魂换取</li>
<li>蓝泪石戒指：<strong>洛斯里克的高墙</strong>救小偷</li>
</ul>
<h2 id="楔形石碎片">楔形石碎片</h2>
<ul>
<li><strong>传火祭祀场</strong> 灰烬审判者古达之前</li>
<li><strong>洛斯里克的高墙</strong> 篝火#1附近人之脓</li>
<li><strong>洛斯里克的高墙</strong> 篝火#2附近</li>
<li><strong>洛斯里克的高墙</strong> 篝火#2后面人之脓</li>
<li><strong>洛斯里克的高墙</strong> 枪兵洛骑之前的房间</li>
<li><strong>洛斯里克的高墙</strong> 小偷钥匙房间</li>
<li><strong>不死聚落</strong> 太阳骑士誓约路线之前室外</li>
<li><strong>不死聚落</strong> <strong>颓旧桥边</strong>篝火之前</li>
<li><strong>不死聚落</strong> <strong>颓旧桥边</strong>篝火之前导师位置</li>
<li><strong>不死聚落</strong> <strong>悬崖地下室</strong>篝火附近</li>
<li><strong>不死聚落</strong> 桥下</li>
<li><strong>不死聚落</strong> 桥下</li>
</ul>
<h2 id="楔形石大碎片">楔形石大碎片</h2>
<ul>
<li><strong>洛斯里克城</strong> 篝火#1用洛骑刷12个</li>
</ul>
<h2 id="楔形石块">楔形石块</h2>
<ul>
<li><strong>传火祭祀场</strong> 鸟巢黑火焰壶换取</li>
<li><strong>洛斯里克城</strong> 篝火直走右转之前</li>
<li><strong>洛斯里克城</strong> 龙训练场之前 * 3</li>
<li><strong>洛斯里克城</strong> 喷火桥近处右侧跳下 * 3</li>
<li><strong>妖王庭院</strong> 电梯夹层左侧</li>
<li><strong>妖王庭院</strong> 霍克伍德白符左侧</li>
<li><strong>妖王庭院</strong> 霍克伍德白符右侧</li>
<li><strong>妖王庭院</strong> 捷径门附近</li>
</ul>
<h2 id="黑火焰壶">黑火焰壶</h2>
<ul>
<li><strong>洛斯里克的高墙</strong> 篝火#2下梯子被射箭附近的房顶</li>
</ul>
<h2 id="火焰宝石">火焰宝石</h2>
<ul>
<li>陪葬品</li>
</ul>
<h2 id="骨灰">骨灰</h2>
<ul>
<li>埋葬者骨灰：<strong>不死聚落</strong>白桦树附近</li>
</ul>
<h1 id="重要流程">重要流程</h1>
<ol type="1">
<li>在<strong>不死聚落</strong>带回巡礼者，找巡礼者升5级</li>
<li>探索<strong>活祭品之路</strong>，获得<strong>亡命骑士套装</strong></li>
<li>探索<strong>法兰要塞</strong>，不打BOSS</li>
<li>买<strong>黑暗之手</strong>，打<strong>冷冽谷的舞娘</strong></li>
<li>探索<strong>洛斯里克城</strong>、<strong>妖王庭院</strong>、<strong>无主墓地</strong>，打<strong>英雄古达</strong></li>
<li>打<strong>巨人尤姆</strong>之后再打<strong>艾尔德利奇</strong></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://torapture.github.io/2020/11/02/LFU-Cache/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="ToRapture">
      <meta itemprop="description" content="Some notes">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ToRapture's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/02/LFU-Cache/" class="post-title-link" itemprop="url">LFU Cache</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-11-02 14:59:56 14:59:56" itemprop="dateCreated datePublished" datetime="2020-11-02T14:59:56+08:00">2020-11-02 14:59:56</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-11-02 15:00:43 15:00:43" itemprop="dateModified" datetime="2020-11-02T15:00:43+08:00">2020-11-02 15:00:43</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/11/02/LFU-Cache/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/11/02/LFU-Cache/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/lfu-cache/">460. LFU Cache</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LFUCache</span> &#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">LFUItem</span> &#123;</span></span><br><span class="line">        <span class="keyword">int</span> key;</span><br><span class="line">        <span class="keyword">int</span> value;</span><br><span class="line">        <span class="keyword">int</span> freq;</span><br><span class="line">        LFUItem() &#123;&#125;</span><br><span class="line">        LFUItem(<span class="keyword">int</span> key, <span class="keyword">int</span> value, <span class="keyword">int</span> freq) : key(key), value(value), freq(freq) &#123;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> capacity;</span><br><span class="line">    <span class="keyword">int</span> min_freq;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="built_in">list</span>&lt;LFUItem&gt;&gt; freq_to_list;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="built_in">list</span>&lt;LFUItem&gt;::iterator&gt; key_to_iter;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line">    LFUCache(<span class="keyword">int</span> capacity) &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;capacity = capacity;</span><br><span class="line">        <span class="keyword">this</span>-&gt;min_freq = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (capacity &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">auto</span> it = key_to_iter.find(key);</span><br><span class="line">        <span class="keyword">if</span> (it == key_to_iter.end()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">int</span> value = it-&gt;second-&gt;value;</span><br><span class="line">        put(key, value);</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (capacity &lt;= <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">auto</span> it = key_to_iter.find(key);</span><br><span class="line">        <span class="keyword">if</span> (it != key_to_iter.end()) &#123;</span><br><span class="line">            <span class="keyword">auto</span> list_node = it-&gt;second;</span><br><span class="line">            freq_to_list[list_node-&gt;freq + <span class="number">1</span>].push_back(LFUItem(key, value, list_node-&gt;freq + <span class="number">1</span>));</span><br><span class="line">            key_to_iter[key] = prev(freq_to_list[list_node-&gt;freq + <span class="number">1</span>].end());</span><br><span class="line">            freq_to_list[list_node-&gt;freq].erase(list_node);</span><br><span class="line">            <span class="keyword">if</span> (freq_to_list[min_freq].empty()) min_freq++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (key_to_iter.size() == capacity) &#123;</span><br><span class="line">                key_to_iter.erase(freq_to_list[min_freq].begin()-&gt;key);</span><br><span class="line">                freq_to_list[min_freq].pop_front();</span><br><span class="line">            &#125;</span><br><span class="line">            min_freq = <span class="number">1</span>;</span><br><span class="line">            freq_to_list[min_freq].push_back(LFUItem(key, value, min_freq));</span><br><span class="line">            key_to_iter[key] = prev(freq_to_list[min_freq].end());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ToRapture"
      src="/uploads/avatar.jpg">
  <p class="site-author-name" itemprop="name">ToRapture</p>
  <div class="site-description" itemprop="description">Some notes</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">84</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">31</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/ToRapture" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ToRapture" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/ToRapture" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;ToRapture" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:torapture@gmail.com" title="E-Mail → mailto:torapture@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ToRapture</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>

<script src="/js/utils.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://torapture.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>

</body>
</html>
